<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>שליחת הזמנה לאורחים</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/headerFooter.css" />
    <link rel="stylesheet" href="../css/index.css" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="../js/js.js"></script>
    <script src="../js/ajaxcalls.js"></script>
    <script src="../js/inviteSender.js"></script>
  </head>
  <body>
    <header class="main-header">
      <div class="header-container">
        <div class="branding">
          <img src="../images/logo.png" class="site-logo" />
          <h1 class="site-title">Get2Gether</h1>
        </div>
        <button class="menu-toggle" aria-label="תפריט" onclick="toggleMenu()">
          ☰
        </button>
        <nav class="main-nav">
          <ul>
            <li><a href="index.html">בית</a></li>
            <li><a href="homePage.html">חזרה לדף הבית</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main>
      <section
        class="hero"
        style="
          min-height: 30vh;
          background-image: url('../images/sec1.png');
          background-size: cover;
          background-position: left center;
        "
      >
        <div
          class="hero-content"
          style="
            background: rgba(255, 255, 255, 0.92);
            border-radius: 16px;
            max-width: 500px;
            margin: 60px auto 0 auto;
            padding: 30px 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 3;
          "
        >
          <h1 style="color: #111">העלאת תמונת הזמנה ושליחת הודעה</h1>
          <form
            id="inviteImageForm"
            enctype="multipart/form-data"
            onsubmit="return false;"
            style="margin-bottom: 20px"
          >
            <label for="inviteImageInput">העלה תמונת הזמנה:</label>
            <div
              class="upload-area"
              style="
                border: 2px dashed #b3b3b3;
                border-radius: 12px;
                padding: 24px 10px;
                margin: 15px 0;
                background: #f8f8f8;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 90px;
              "
            >
              <input
                type="file"
                id="inviteImageInput"
                name="inviteImage"
                accept="image/*"
                style="
                  margin-bottom: 0;
                  display: block;
                  margin-left: auto;
                  margin-right: auto;
                "
              />
            </div>
            <div
              class="button-row"
              style="
                display: flex;
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
                margin-top: 10px;
              "
            >
              <button
                type="button"
                id="uploadInviteBtn"
                class="btn"
                style="background: #f06292; color: #fff; min-width: 100px"
                onmouseenter="showTooltip(event, 'המערכת תאשר את התמונה שהעלתם ותוכלו לשלוח אותה במרוכז לכל האורחים')"
                onmouseleave="hideTooltip()"
              >
                העלה
              </button>
              <button
                type="button"
                id="showInviteBtn"
                class="btn"
                style="
                  display: none;
                  background: #90caf9;
                  color: #111;
                  min-width: 100px;
                "
              >
                הצג הזמנת אירוע נוכחית
              </button>
              <button
                type="button"
                id="previewExampleBtn"
                class="btn"
                style="background: #b3e6ff; color: #111; min-width: 100px"
              >
                הצג דוגמת הזמנה
              </button>
            </div>
          </form>
          <div
            id="inviteImagePreview"
            style="
              margin-top: 10px;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          ></div>
          <button
            id="sendInviteBtn2"
            class="btn"
            style="
              margin-top: 30px;
              width: 80%;
              font-size: 1.3rem;
              background: #f06292;
              color: #fff;
            "
            onmouseenter="showTooltip(event, 'שים לב ניתן יהיה לשלוח הזמנה לכל האורחים רק פעם אחת! לאחר מכן לא יהיה ניתן לשנות את התמונה! ')"
            onmouseleave="hideTooltip()"
          >
            📩 שלח הזמנה לאורחים
          </button>
        </div>
      </section>
    </main>
    <footer class="main-footer">
      <div class="footer-container">
        <p>צור קשר:</p>
        <a href="https://www.instagram.com" target="_blank">
          <img
            src="../images/instagram-icon.png"
            alt="Instagram"
            width="24"
            height="24"
          />
        </a>
        <a href="https://www.facebook.com" target="_blank">
          <img
            src="../images/facebook-icon.png"
            alt="Facebook"
            width="24"
            height="24"
          />
        </a>
        <a href="mailto:igroup2project@gmail.com">
          <img
            src="../images/google-icon.png"
            alt="Google"
            width="24"
            height="24"
          />
        </a>
      </div>
    </footer>
    <script>
      // Example invitation preview button logic
      document
        .getElementById("previewExampleBtn")
        .addEventListener("click", function () {
          const imageUrl = "../images/הזמנה לחתונה.jpg"; // הנתיב לתמונה
          window.open(imageUrl, "_blank"); // פותח את התמונה בלשונית חדשה
        });
      function showTooltip(e, text) {
        let tooltip = document.getElementById("custom-tooltip");
        if (!tooltip) {
          tooltip = document.createElement("div");
          tooltip.id = "custom-tooltip";
          tooltip.style.position = "fixed";
          tooltip.style.background = "#fff";
          tooltip.style.color = "#222";
          tooltip.style.padding = "18px 28px";
          tooltip.style.borderRadius = "16px";
          tooltip.style.fontSize = "1.15rem";
          tooltip.style.zIndex = 9999;
          tooltip.style.pointerEvents = "none";
          tooltip.style.boxShadow = "0 4px 16px #0002";
          tooltip.style.border = "2px solid #b3b3b3";
          tooltip.style.minWidth = "260px";
          tooltip.style.minHeight = "60px";
          tooltip.style.textAlign = "center";
          tooltip.style.display = "flex";
          tooltip.style.alignItems = "center";
          tooltip.style.justifyContent = "center";
          document.body.appendChild(tooltip);
        }
        tooltip.innerHTML = text;
        tooltip.style.display = "flex";
        moveTooltip(e);
        document.addEventListener("mousemove", moveTooltip);
      }
      function moveTooltip(e) {
        let tooltip = document.getElementById("custom-tooltip");
        if (tooltip) {
          tooltip.style.top = e.clientY + 18 + "px";
          tooltip.style.right = window.innerWidth - e.clientX + 18 + "px";
          tooltip.style.left = "";
        }
      }
      function hideTooltip() {
        let tooltip = document.getElementById("custom-tooltip");
        if (tooltip) {
          tooltip.style.display = "none";
          document.removeEventListener("mousemove", moveTooltip);
        }
      }
    </script>
  </body>
</html>
